{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "229d1b35_23881425",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 11,
      "author": {
        "id": 1152670
      },
      "writtenOn": "2025-09-03T08:43:30Z",
      "side": 1,
      "message": "The rename-project plugin does not emit any ProjectCreationEvent, and the replication plugin does not handle such events either. Therefore, if you observe the newly renamed project being replicated, it\u0027s likely a side effect (project is created if it is not present on replica), possibly due to a ref update on the renamed project (not sure what triggers the replication). Relying on such side effects for project creation is not a reliable approach.\n\nMoreover, even when a project is replicated due to a ref update, only the updated ref is replicated. Other refs are not included, which can lead to data loss and makes the replication process unreliable in case of rename operation.",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 11,
        "endChar": 7
      },
      "revId": "8294cd9e3d0ddf748696009005ba3bcb05443bd2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5a22ed33_d98494e6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 19,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2025-08-19T16:03:43Z",
      "side": 1,
      "message": "I think it works this way because for any larger repo, it\u0027s going to be a lot more efficient to rename a repo on the remote than it will be to delete and recreate the repo. While it might be simpler to use replication to create/delete (and I agree with a lot of your points below), I\u0027m not sure it\u0027s the correct design.\n\nIf we really want better sharing, I think we\u0027d need to go the route of teaching replication about project renames (either by adding a new event type to core or doing some linking of rename-project and replication-api plugin/module).",
      "revId": "8294cd9e3d0ddf748696009005ba3bcb05443bd2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "86b70fe0_19b3285e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 19,
      "author": {
        "id": 1010788
      },
      "writtenOn": "2025-08-25T13:47:50Z",
      "side": 1,
      "message": "\u003e I think we\u0027d need to go the route of teaching replication about project renames\n\nI agree, it would be a better design, though that sounds like a lot more work :/\n\nWhat I found surprising is once renamed, the project under the new name get replicated by the replication plugin.\n\nMaybe I can add a feature flag to send the event documenting a the renaming of a large repository would be replicated inefficiently (delete + full replication).",
      "parentUuid": "5a22ed33_d98494e6",
      "revId": "8294cd9e3d0ddf748696009005ba3bcb05443bd2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}